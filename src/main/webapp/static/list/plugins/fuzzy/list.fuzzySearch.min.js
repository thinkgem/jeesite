List.prototype.plugins.fuzzySearch=function(a,b){var c=this;var d=function(a,b,c){function i(a,c){var d=a/b.length,f=Math.abs(g-c);if(!e){return f?1:d}return d+f/e}var d=c.location||0;var e=c.distance||100;var f=c.threshold||.4;if(b===a)return true;if(b.length>32)return false;var g=d,h=function(){var a={};for(var c=0;c<b.length;c++){a[b.charAt(c)]=0}for(var c=0;c<b.length;c++){a[b.charAt(c)]|=1<<b.length-c-1}return a}();var j=f,k=a.indexOf(b,g);if(k!=-1){j=Math.min(i(0,k),j);k=a.lastIndexOf(b,g+b.length);if(k!=-1){j=Math.min(i(0,k),j)}}var l=1<<b.length-1;k=-1;var m,n;var o=b.length+a.length;var p;for(var q=0;q<b.length;q++){m=0;n=o;while(m<n){if(i(q,g+n)<=j){m=n}else{o=n}n=Math.floor((o-m)/2+m)}o=n;var r=Math.max(1,g-n+1);var s=Math.min(g+n,a.length)+b.length;var t=Array(s+2);t[s+1]=(1<<q)-1;for(var u=s;u>=r;u--){var v=h[a.charAt(u-1)];if(q===0){t[u]=(t[u+1]<<1|1)&v}else{t[u]=(t[u+1]<<1|1)&v|((p[u+1]|p[u])<<1|1)|p[u+1]}if(t[u]&l){var w=i(q,u-1);if(w<=j){j=w;k=u-1;if(k>g){r=Math.max(1,2*g-k)}else{break}}}}if(i(q+1,g)>j){break}p=t}return k<0?false:true};return function(){var e=function(e,f){c.i=1;var g,h,i=[],j,k,l,m,n,o=typeof b.multiSearch!=="boolean"?true:b.multiSearch,f=f===undefined?c.items[0].values():f,e=e===undefined?"":e,p=e.target||e.srcElement;e=p===undefined?(""+e).toLowerCase():""+p.value.toLowerCase();n=c.items;g=o?e.replace(/ +$/,"").split(/ +/):[e];a.templater.clear();if(e===""){a.reset.search();c.searched=false;c.update()}else{c.searched=true;for(var q=0,r=n.length;q<r;q++){j=true;k=n[q];m=k.values();for(var s=0;s<g.length;s++){h=false;for(var t in f){if(m.hasOwnProperty(t)&&f[t]!==null){l=m[t]!=null?m[t].toString().toLowerCase():"";if(d(l,g[s],b)){h=true}}}if(!h)j=false}if(j){k.found=true;i.push(k)}else{k.found=false}}c.update()}return c.visibleItems},f;return function(){var a=this,b=arguments;var c=function(){f=null;e.apply(a,b)};clearTimeout(f);f=setTimeout(c,100)}}()}